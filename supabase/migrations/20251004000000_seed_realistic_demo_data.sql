-- Seed Realistic Demo Data for Campus Placement Portal
-- This migration adds complete demo data for end-to-end workflow demonstration

-- IMPORTANT: This migration only creates profile data, NOT auth users
-- You must create the corresponding auth users manually in Supabase Auth or via signup
-- The user_id values used here must match the auth.users.id values

-- Note: This uses hardcoded UUIDs for demonstration purposes
-- In production, these would be generated by actual user registrations

-- Demo User Credentials (CREATE THESE IN AUTH FIRST):
-- Admin: admin@college.edu / Admin@123
-- Recruiter: recruiter@google.com / Recruiter@123
-- Mentor: mentor@college.edu / Mentor@123
-- Student 1: priya.sharma@college.edu / Student@123
-- Student 2: rahul.verma@college.edu / Student@123
-- Student 3: ananya.patel@college.edu / Student@123
-- Student 4: arjun.kumar@college.edu / Student@123
-- Student 5: sneha.reddy@college.edu / Student@123

-- ALTERNATIVE: If you want to use this migration without manual auth creation,
-- you can use the signup flow in the application which will trigger the
-- handle_new_user() function to create profiles automatically.

-- Clean up existing demo data if any
DELETE FROM public.applications WHERE student_id IN (
  SELECT user_id FROM public.profiles WHERE email LIKE '%@college.edu' OR email LIKE '%@google.com'
);
DELETE FROM public.opportunities WHERE company_name IN ('Google', 'Amazon', 'Microsoft');
DELETE FROM public.companies WHERE name IN ('Google', 'Amazon', 'Microsoft');
DELETE FROM public.student_profiles WHERE user_id IN (
  SELECT user_id FROM public.profiles WHERE email LIKE '%@college.edu'
);
DELETE FROM public.profiles WHERE email LIKE '%@college.edu' OR email LIKE '%@google.com';

-- Insert Companies (Placement Officer will have added these)
INSERT INTO public.companies (id, name, industry, address, website, description, contact_email, contact_phone, status, created_at) VALUES
('11111111-1111-1111-1111-111111111111', 'Google', 'Technology', 'Mountain View, CA 94043, USA', 'https://www.google.com', 'Google LLC is an American multinational technology company focusing on search engine technology, online advertising, cloud computing, and more.', 'careers@google.com', '+1-650-253-0000', 'verified', NOW() - INTERVAL '30 days'),
('22222222-2222-2222-2222-222222222222', 'Amazon', 'E-commerce & Cloud', 'Seattle, WA 98109, USA', 'https://www.amazon.com', 'Amazon.com, Inc. is an American multinational technology company focusing on e-commerce, cloud computing, digital streaming, and artificial intelligence.', 'university@amazon.com', '+1-206-266-1000', 'verified', NOW() - INTERVAL '25 days'),
('33333333-3333-3333-3333-333333333333', 'Microsoft', 'Technology', 'Redmond, WA 98052, USA', 'https://www.microsoft.com', 'Microsoft Corporation is an American multinational technology corporation producing computer software, consumer electronics, personal computers, and related services.', 'university@microsoft.com', '+1-425-882-8080', 'verified', NOW() - INTERVAL '20 days');

-- Insert Profiles for demo users
-- Admin (Placement Officer)
INSERT INTO public.profiles (id, user_id, full_name, email, role, phone, is_verified, created_at) VALUES
('a0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000001', 'Dr. Rajesh Kulkarni', 'admin@college.edu', 'placement_officer', '+91-9876543210', true, NOW() - INTERVAL '90 days');

-- Recruiter (from Google)
INSERT INTO public.profiles (id, user_id, full_name, email, role, phone, company_name, industry, is_verified, created_at) VALUES
('b0000000-0000-0000-0000-000000000002', 'b0000000-0000-0000-0000-000000000002', 'Sarah Mitchell', 'recruiter@google.com', 'recruiter', '+1-650-555-0123', 'Google', 'Technology', true, NOW() - INTERVAL '60 days');

-- Faculty Mentor
INSERT INTO public.profiles (id, user_id, full_name, email, role, phone, is_verified, created_at) VALUES
('c0000000-0000-0000-0000-000000000003', 'c0000000-0000-0000-0000-000000000003', 'Prof. Meera Deshmukh', 'mentor@college.edu', 'faculty_mentor', '+91-9876543211', true, NOW() - INTERVAL '85 days');

-- Students
INSERT INTO public.profiles (id, user_id, full_name, email, role, phone, is_verified, created_at) VALUES
('d0000000-0000-0000-0000-000000000004', 'd0000000-0000-0000-0000-000000000004', 'Priya Sharma', 'priya.sharma@college.edu', 'student', '+91-9876543212', true, NOW() - INTERVAL '80 days'),
('d0000000-0000-0000-0000-000000000005', 'd0000000-0000-0000-0000-000000000005', 'Rahul Verma', 'rahul.verma@college.edu', 'student', '+91-9876543213', true, NOW() - INTERVAL '80 days'),
('d0000000-0000-0000-0000-000000000006', 'd0000000-0000-0000-0000-000000000006', 'Ananya Patel', 'ananya.patel@college.edu', 'student', '+91-9876543214', true, NOW() - INTERVAL '80 days'),
('d0000000-0000-0000-0000-000000000007', 'd0000000-0000-0000-0000-000000000007', 'Arjun Kumar', 'arjun.kumar@college.edu', 'student', '+91-9876543215', true, NOW() - INTERVAL '80 days'),
('d0000000-0000-0000-0000-000000000008', 'd0000000-0000-0000-0000-000000000008', 'Sneha Reddy', 'sneha.reddy@college.edu', 'student', '+91-9876543216', true, NOW() - INTERVAL '80 days');

-- Insert Student Profiles with realistic data
INSERT INTO public.student_profiles (id, user_id, roll_number, department, year_of_study, cgpa, skills, bio, created_at) VALUES
('d1000000-0000-0000-0000-000000000004', 'd0000000-0000-0000-0000-000000000004', 'CS2021001', 'Computer Science', 4, 8.75, 
  ARRAY['Python', 'JavaScript', 'React', 'Node.js', 'MongoDB', 'Git', 'REST APIs'], 
  'Passionate full-stack developer with strong problem-solving skills. Active contributor to open-source projects. Won 1st prize in National Hackathon 2023.',
  NOW() - INTERVAL '80 days'),

('d1000000-0000-0000-0000-000000000005', 'd0000000-0000-0000-0000-000000000005', 'CS2021002', 'Computer Science', 4, 9.12, 
  ARRAY['Java', 'Spring Boot', 'Docker', 'Kubernetes', 'AWS', 'MySQL', 'Microservices'], 
  'Backend engineer specializing in distributed systems. Completed internship at Infosys. Published research paper on cloud optimization.',
  NOW() - INTERVAL '80 days'),

('d1000000-0000-0000-0000-000000000006', 'd0000000-0000-0000-0000-000000000006', 'CS2021003', 'Computer Science', 4, 8.45, 
  ARRAY['C++', 'Data Structures', 'Algorithms', 'Machine Learning', 'TensorFlow', 'Python'], 
  'ML enthusiast with focus on computer vision. Completed 3 major projects in AI/ML. Active on Kaggle with silver medal.',
  NOW() - INTERVAL '80 days'),

('d1000000-0000-0000-0000-000000000007', 'd0000000-0000-0000-0000-000000000007', 'IT2021001', 'Information Technology', 4, 8.90, 
  ARRAY['JavaScript', 'TypeScript', 'Angular', 'Node.js', 'PostgreSQL', 'GraphQL'], 
  'Frontend specialist with eye for design. Built 5+ production-ready web applications. Strong understanding of UX principles.',
  NOW() - INTERVAL '80 days'),

('d1000000-0000-0000-0000-000000000008', 'd0000000-0000-0000-0000-000000000008', 'CS2021004', 'Computer Science', 4, 9.25, 
  ARRAY['Python', 'Django', 'React', 'PostgreSQL', 'Redis', 'Docker', 'CI/CD'], 
  'Top performer with excellent academic record. Led college coding club. Completed summer internship at Amazon. Strong leadership skills.',
  NOW() - INTERVAL '80 days');

-- Insert Job Opportunities (created by recruiter)
INSERT INTO public.opportunities (id, title, company_name, description, type, location, stipend_amount, min_cgpa, deadline, departments, required_skills, posted_by, interview_rounds, is_active, created_at) VALUES
('o1111111-1111-1111-1111-111111111111', 
 'Software Development Engineer - Backend',
 'Google',
 'We are looking for talented backend engineers to join our Cloud Platform team. You will work on building scalable distributed systems that power Google Cloud services used by millions of users worldwide.

Key Responsibilities:
• Design and implement scalable backend services
• Optimize system performance and reliability
• Collaborate with cross-functional teams
• Participate in code reviews and architecture discussions

Requirements:
• Strong understanding of data structures and algorithms
• Experience with Java, Python or Go
• Knowledge of distributed systems and cloud technologies
• Excellent problem-solving abilities',
 'full_time',
 'Bangalore, India',
 1200000,
 7.50,
 NOW() + INTERVAL '30 days',
 ARRAY['Computer Science', 'Information Technology'],
 ARRAY['Java', 'Python', 'Distributed Systems', 'Cloud Computing', 'REST APIs'],
 'b0000000-0000-0000-0000-000000000002',
 '[{"round_number": 1, "round_name": "Online Assessment", "description": "Coding test with DSA problems"}, {"round_number": 2, "round_name": "Technical Interview 1", "description": "System design and coding"}, {"round_number": 3, "round_name": "Technical Interview 2", "description": "Advanced problem solving"}, {"round_number": 4, "round_name": "Behavioral Interview", "description": "Culture fit and leadership"}]'::jsonb,
 true,
 NOW() - INTERVAL '15 days'),

('o2222222-2222-2222-2222-222222222222',
 'Frontend Engineer - React',
 'Amazon',
 'Join Amazon''s retail website team to build the next generation of e-commerce experiences. Work on features that impact millions of customers globally.

What You''ll Do:
• Build responsive and performant web applications
• Implement new features for Amazon.com
• Work with design team to create intuitive UIs
• Optimize for performance and accessibility

Qualifications:
• Strong JavaScript/TypeScript skills
• Experience with React and modern frontend frameworks
• Understanding of web performance optimization
• Passion for creating great user experiences',
 'full_time',
 'Hyderabad, India',
 1500000,
 7.00,
 NOW() + INTERVAL '25 days',
 ARRAY['Computer Science', 'Information Technology', 'Electronics'],
 ARRAY['JavaScript', 'React', 'TypeScript', 'HTML/CSS', 'Redux'],
 'b0000000-0000-0000-0000-000000000002',
 '[{"round_number": 1, "round_name": "Online Test", "description": "JavaScript and React fundamentals"}, {"round_number": 2, "round_name": "Technical Round", "description": "Live coding with React"}, {"round_number": 3, "round_name": "Hiring Manager Round", "description": "System design and behavioral"}]'::jsonb,
 true,
 NOW() - INTERVAL '12 days'),

('o3333333-3333-3333-3333-333333333333',
 'Machine Learning Engineer',
 'Microsoft',
 'Microsoft AI Research is seeking ML engineers to work on cutting-edge AI technologies. You will contribute to products used by billions of users worldwide.

Responsibilities:
• Develop and deploy machine learning models
• Work on computer vision and NLP projects
• Optimize model performance for production
• Collaborate with researchers and engineers

Requirements:
• Strong foundation in ML algorithms and statistics
• Experience with TensorFlow or PyTorch
• Python programming expertise
• Research mindset and problem-solving skills',
 'full_time',
 'Bangalore, India',
 1400000,
 8.00,
 NOW() + INTERVAL '35 days',
 ARRAY['Computer Science', 'Data Science'],
 ARRAY['Python', 'Machine Learning', 'TensorFlow', 'Deep Learning', 'Statistics'],
 'b0000000-0000-0000-0000-000000000002',
 '[{"round_number": 1, "round_name": "Screening", "description": "ML fundamentals and coding"}, {"round_number": 2, "round_name": "Technical Interview", "description": "ML problem solving"}, {"round_number": 3, "round_name": "Final Round", "description": "Project discussion and behavioral"}]'::jsonb,
 true,
 NOW() - INTERVAL '10 days');

-- Insert Applications (students applying to jobs)
INSERT INTO public.applications (id, student_id, opportunity_id, status, cover_letter, applied_at, mentor_id, mentor_comments, mentor_approved_at, shortlisted_at, shortlisted_by, current_round) VALUES
-- Priya Sharma applications
('app11111-1111-1111-1111-111111111111', 'd0000000-0000-0000-0000-000000000004', 'o1111111-1111-1111-1111-111111111111', 'shortlisted',
 'I am excited to apply for the Backend Engineer position at Google. With my strong foundation in Python and experience building REST APIs, I am confident I can contribute effectively to your Cloud Platform team. During my internship at TCS, I worked on optimizing database queries which improved system performance by 40%. I am passionate about distributed systems and would love to bring my skills to Google.',
 NOW() - INTERVAL '14 days', 'c0000000-0000-0000-0000-000000000003',
 'Priya has shown excellent understanding of backend technologies. Her projects demonstrate strong problem-solving abilities. Recommended for shortlisting.',
 NOW() - INTERVAL '10 days', NOW() - INTERVAL '5 days', 'b0000000-0000-0000-0000-000000000002', 1),

('app11112-1111-1111-1111-111111111112', 'd0000000-0000-0000-0000-000000000004', 'o2222222-2222-2222-2222-222222222222', 'under_review',
 'I am writing to express my interest in the Frontend Engineer position at Amazon. With hands-on experience in React and modern JavaScript, I have built multiple production-ready applications. My portfolio includes an e-commerce platform I developed as my final year project, which received best project award. I am eager to contribute to Amazon''s world-class user experience.',
 NOW() - INTERVAL '11 days', 'c0000000-0000-0000-0000-000000000003',
 'Strong frontend skills with good project portfolio. Recommended for next round.',
 NOW() - INTERVAL '8 days', NULL, NULL, 0),

-- Rahul Verma applications
('app22221-1111-1111-1111-111111111113', 'd0000000-0000-0000-0000-000000000005', 'o1111111-1111-1111-1111-111111111111', 'shortlisted',
 'I am applying for the Backend Engineer role at Google. With expertise in Java, Spring Boot, and microservices architecture, I have successfully delivered multiple backend projects. During my Infosys internship, I architected a microservices-based system handling 10,000+ requests per minute. I am passionate about building scalable systems and excited about the opportunity to work on Google Cloud.',
 NOW() - INTERVAL '14 days', 'c0000000-0000-0000-0000-000000000003',
 'Rahul has exceptional technical skills with real-world experience. His internship work demonstrates maturity. Strongly recommended.',
 NOW() - INTERVAL '10 days', NOW() - INTERVAL '5 days', 'b0000000-0000-0000-0000-000000000002', 2),

('app22222-1111-1111-1111-111111111114', 'd0000000-0000-0000-0000-000000000005', 'o3333333-3333-3333-3333-333333333333', 'selected',
 'I am enthusiastic about the ML Engineer position at Microsoft. While my primary expertise is in backend development, I have completed several ML courses and projects. I believe my strong engineering background combined with growing ML knowledge makes me a valuable addition to the AI Research team. I am a quick learner and ready to dive deep into machine learning.',
 NOW() - INTERVAL '9 days', 'c0000000-0000-0000-0000-000000000003',
 'Excellent academic record and strong technical foundation. Good potential for ML role.',
 NOW() - INTERVAL '7 days', NOW() - INTERVAL '3 days', 'b0000000-0000-0000-0000-000000000002', 3),

-- Ananya Patel applications
('app33331-1111-1111-1111-111111111115', 'd0000000-0000-0000-0000-000000000006', 'o3333333-3333-3333-3333-333333333333', 'shortlisted',
 'I am applying for the ML Engineer position at Microsoft. As an ML enthusiast with hands-on experience in TensorFlow and computer vision projects, I am excited about this opportunity. My recent project on image classification achieved 94% accuracy and was presented at a national conference. I have also completed Andrew Ng''s ML course and several Kaggle competitions. I am passionate about AI and eager to contribute to Microsoft''s research efforts.',
 NOW() - INTERVAL '9 days', 'c0000000-0000-0000-0000-000000000003',
 'Ananya has demonstrated strong ML skills through her projects. Her Kaggle achievements show practical problem-solving ability. Recommended.',
 NOW() - INTERVAL '6 days', NOW() - INTERVAL '3 days', 'b0000000-0000-0000-0000-000000000002', 1),

('app33332-1111-1111-1111-111111111116', 'd0000000-0000-0000-0000-000000000006', 'o1111111-1111-1111-1111-111111111111', 'under_review',
 'I am interested in the Backend Engineer position at Google. While my focus has been on ML, I have strong programming fundamentals and experience with Python. I am eager to expand my backend development skills and believe Google''s mentorship culture would be perfect for my growth.',
 NOW() - INTERVAL '13 days', 'c0000000-0000-0000-0000-000000000003',
 'Good programming skills but needs more backend-specific experience. Can be considered if other criteria are met.',
 NOW() - INTERVAL '9 days', NULL, NULL, 0),

-- Arjun Kumar applications  
('app44441-1111-1111-1111-111111111117', 'd0000000-0000-0000-0000-000000000007', 'o2222222-2222-2222-2222-222222222222', 'shortlisted',
 'I am excited to apply for the Frontend Engineer role at Amazon. With extensive experience in React, TypeScript, and modern frontend tools, I have built 5+ production applications. My focus on UX and performance optimization has resulted in consistently high user satisfaction scores. I have also contributed to several open-source UI libraries. I would love to bring my frontend expertise to Amazon and help build amazing shopping experiences.',
 NOW() - INTERVAL '11 days', 'c0000000-0000-0000-0000-000000000003',
 'Arjun is one of our top frontend developers. His portfolio and open-source contributions are impressive. Highly recommended.',
 NOW() - INTERVAL '8 days', NOW() - INTERVAL '4 days', 'b0000000-0000-0000-0000-000000000002', 1),

('app44442-1111-1111-1111-111111111118', 'd0000000-0000-0000-0000-000000000007', 'o1111111-1111-1111-1111-111111111111', 'pending',
 'I am applying for the Backend Engineer position at Google. While my primary strength is frontend, I have been learning backend technologies and built several full-stack projects. I am interested in expanding my backend skills under Google''s expert guidance.',
 NOW() - INTERVAL '13 days', NULL, NULL, NULL, NULL, NULL, 0),

-- Sneha Reddy applications
('app55551-1111-1111-1111-111111111119', 'd0000000-0000-0000-0000-000000000008', 'o1111111-1111-1111-1111-111111111111', 'selected',
 'I am thrilled to apply for the Backend Engineer position at Google. As a top performer with a 9.25 CGPA, I have consistently demonstrated excellence in academics and projects. During my Amazon internship, I built a scalable API service that reduced latency by 60%. I led our college coding club and mentored junior students. My leadership experience and technical skills make me well-suited for Google''s collaborative environment. I am passionate about distributed systems and excited to contribute to Google Cloud.',
 NOW() - INTERVAL '15 days', 'c0000000-0000-0000-0000-000000000003',
 'Sneha is our star student with outstanding academic record and internship performance. She has demonstrated leadership and technical excellence. Most strongly recommended.',
 NOW() - INTERVAL '12 days', NOW() - INTERVAL '7 days', 'b0000000-0000-0000-0000-000000000002', 3),

('app55552-1111-1111-1111-111111111120', 'd0000000-0000-0000-0000-000000000008', 'o2222222-2222-2222-2222-222222222222', 'shortlisted',
 'I am applying for the Frontend Engineer position at Amazon. With full-stack experience and strong React skills, I can contribute to building exceptional user experiences. My Amazon internship gave me valuable insight into the company culture and I am excited to return as a full-time engineer.',
 NOW() - INTERVAL '12 days', 'c0000000-0000-0000-0000-000000000003',
 'Sneha performed exceptionally well during her Amazon internship. Perfect candidate for this role.',
 NOW() - INTERVAL '9 days', NOW() - INTERVAL '4 days', 'b0000000-0000-0000-0000-000000000002', 1),

('app55553-1111-1111-1111-111111111121', 'd0000000-0000-0000-0000-000000000008', 'o3333333-3333-3333-3333-333333333333', 'under_review',
 'I am interested in the ML Engineer role at Microsoft. While my background is more in full-stack development, I have completed multiple ML courses and built AI-powered features in my projects. I am eager to transition into ML and believe my strong programming foundation will help me excel.',
 NOW() - INTERVAL '9 days', 'c0000000-0000-0000-0000-000000000003',
 'Strong technical foundation. Can adapt to ML role with proper guidance.',
 NOW() - INTERVAL '6 days', NULL, NULL, 0);

-- Insert Interview Schedules (for shortlisted candidates)
INSERT INTO public.interviews (id, application_id, scheduled_date, scheduled_time, duration_minutes, mode, location, meeting_link, notes, round_number, status, created_at) VALUES
-- Priya - Google Backend (Round 1)
('int11111-1111-1111-1111-111111111111', 'app11111-1111-1111-1111-111111111111',
 CURRENT_DATE + INTERVAL '3 days', '10:00:00', 60, 'online', NULL,
 'https://meet.google.com/abc-defg-hij',
 'Online Assessment - DSA coding test. Please ensure stable internet connection.',
 1, 'scheduled', NOW() - INTERVAL '3 days'),

-- Rahul - Google Backend (Round 2)
('int22221-1111-1111-1111-111111111112', 'app22221-1111-1111-1111-111111111113',
 CURRENT_DATE + INTERVAL '5 days', '14:00:00', 90, 'online', NULL,
 'https://meet.google.com/xyz-abcd-efg',
 'Technical Interview 1 - System design discussion followed by coding. Prepare for distributed systems questions.',
 2, 'scheduled', NOW() - INTERVAL '2 days'),

-- Rahul - Microsoft ML (Final Round)
('int22222-1111-1111-1111-111111111113', 'app22222-1111-1111-1111-111111111114',
 CURRENT_DATE - INTERVAL '2 days', '11:00:00', 60, 'online', NULL,
 'https://teams.microsoft.com/meet/abc123',
 'Final round - Behavioral interview with hiring manager.',
 3, 'completed', NOW() - INTERVAL '10 days'),

-- Ananya - Microsoft ML (Round 1)
('int33331-1111-1111-1111-111111111114', 'app33331-1111-1111-1111-111111111115',
 CURRENT_DATE + INTERVAL '4 days', '15:30:00', 75, 'online', NULL,
 'https://teams.microsoft.com/meet/xyz789',
 'ML Screening Round - Focus on fundamentals, coding, and past projects.',
 1, 'scheduled', NOW() - INTERVAL '1 day'),

-- Arjun - Amazon Frontend (Round 1)
('int44441-1111-1111-1111-111111111115', 'app44441-1111-1111-1111-111111111117',
 CURRENT_DATE + INTERVAL '2 days', '16:00:00', 45, 'online', NULL,
 'https://chime.aws/meeting/amazon-frontend',
 'Online Test - JavaScript and React fundamentals.',
 1, 'scheduled', NOW() - INTERVAL '2 days'),

-- Sneha - Google Backend (Final Round - Completed)
('int55551-1111-1111-1111-111111111116', 'app55551-1111-1111-1111-111111111119',
 CURRENT_DATE - INTERVAL '5 days', '10:00:00', 60, 'online', NULL,
 'https://meet.google.com/sneha-final-round',
 'Final behavioral interview. Discussion on leadership and teamwork.',
 3, 'completed', NOW() - INTERVAL '12 days'),

-- Sneha - Amazon Frontend (Round 1)
('int55552-1111-1111-1111-111111111117', 'app55552-1111-1111-1111-111111111120',
 CURRENT_DATE + INTERVAL '6 days', '13:00:00', 60, 'online', NULL,
 'https://chime.aws/meeting/sneha-amazon',
 'Technical round with React live coding.',
 1, 'scheduled', NOW() - INTERVAL '1 day');

-- Insert Certificates (for selected candidates)
INSERT INTO public.certificates (id, student_id, application_id, company_id, certificate_type, title, description, issue_date, issued_by, certificate_url, created_at) VALUES
-- Rahul - Microsoft ML Offer
('cert2222-1111-1111-1111-111111111111', 'd0000000-0000-0000-0000-000000000005', 'app22222-1111-1111-1111-111111111114',
 '33333333-3333-3333-3333-333333333333', 'placement', 
 'Machine Learning Engineer - Offer Letter',
 'Congratulations! You have been selected for the position of Machine Learning Engineer at Microsoft AI Research, Bangalore. Your exceptional performance in technical interviews and strong ML foundation impressed our team. CTC: ₹14,00,000 per annum. Joining Date: July 1, 2024.',
 CURRENT_DATE - INTERVAL '1 day',
 'Microsoft HR Team',
 'https://certificates.microsoft.com/rahul-verma-offer-2024',
 NOW() - INTERVAL '1 day'),

-- Sneha - Google Backend Offer  
('cert5555-1111-1111-1111-111111111112', 'd0000000-0000-0000-0000-000000000008', 'app55551-1111-1111-1111-111111111119',
 '11111111-1111-1111-1111-111111111111', 'placement',
 'Software Development Engineer - Offer Letter',
 'We are delighted to offer you the position of Software Development Engineer (Backend) at Google Cloud Platform, Bangalore. Your outstanding academic record, excellent internship performance, and strong technical skills make you an ideal fit for our team. CTC: ₹12,00,000 per annum + Stock Options. Joining Date: July 15, 2024.',
 CURRENT_DATE - INTERVAL '3 days',
 'Google University Recruiting',
 'https://certificates.google.com/sneha-reddy-offer-2024',
 NOW() - INTERVAL '3 days');

-- Insert Career Log entries (track student progress)
INSERT INTO public.career_log (id, student_id, application_id, certificate_id, company_id, type, title, description, status, start_date, end_date, placement_eligible, created_at) VALUES
-- Rahul's journey
('log22221-1111-1111-1111-111111111111', 'd0000000-0000-0000-0000-000000000005', 'app22222-1111-1111-1111-111111111114', 
 'cert2222-1111-1111-1111-111111111111', '33333333-3333-3333-3333-333333333333',
 'placement', 'ML Engineer at Microsoft', 
 'Successfully completed interview process and received offer letter. Completed all 3 rounds of interviews with excellent feedback. Will be joining Microsoft AI Research team.',
 'offer_accepted', CURRENT_DATE + INTERVAL '60 days', NULL, true, NOW() - INTERVAL '1 day'),

-- Sneha's journey
('log55551-1111-1111-1111-111111111112', 'd0000000-0000-0000-0000-000000000008', 'app55551-1111-1111-1111-111111111119',
 'cert5555-1111-1111-1111-111111111112', '11111111-1111-1111-1111-111111111111',
 'placement', 'Backend Engineer at Google',
 'Secured position at Google Cloud Platform team. Cleared all interview rounds with outstanding performance. Previous Amazon internship experience was highly valued.',
 'offer_accepted', CURRENT_DATE + INTERVAL '75 days', NULL, true, NOW() - INTERVAL '3 days'),

-- Priya's applications in progress
('log11111-1111-1111-1111-111111111113', 'd0000000-0000-0000-0000-000000000004', 'app11111-1111-1111-1111-111111111111',
 NULL, '11111111-1111-1111-1111-111111111111',
 'application', 'Google Backend Engineer Application',
 'Application shortlisted. Online assessment scheduled for next week.',
 'in_progress', NOW() - INTERVAL '14 days', NULL, true, NOW() - INTERVAL '5 days'),

-- Arjun's applications
('log44441-1111-1111-1111-111111111114', 'd0000000-0000-0000-0000-000000000007', 'app44441-1111-1111-1111-111111111117',
 NULL, '22222222-2222-2222-2222-222222222222',
 'application', 'Amazon Frontend Engineer Application',
 'Application shortlisted after mentor approval. First round interview scheduled.',
 'in_progress', NOW() - INTERVAL '11 days', NULL, true, NOW() - INTERVAL '4 days'),

-- Ananya's applications
('log33331-1111-1111-1111-111111111115', 'd0000000-0000-0000-0000-000000000006', 'app33331-1111-1111-1111-111111111115',
 NULL, '33333333-3333-3333-3333-333333333333',
 'application', 'Microsoft ML Engineer Application',
 'Strong application with ML project portfolio. Screening round scheduled.',
 'in_progress', NOW() - INTERVAL '9 days', NULL, true, NOW() - INTERVAL '3 days');

-- Add feedback entries (mentor feedback to students)
INSERT INTO public.feedback (id, from_user_id, to_user_id, application_id, feedback_text, feedback_type, rating, created_at) VALUES
-- Mentor feedback for Sneha
('feed5555-1111-1111-1111-111111111111', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000008',
 'app55551-1111-1111-1111-111111111119',
 'Excellent work on your Google application! Your preparation was outstanding and it showed in your interview performance. Your Amazon internship experience gave you a significant advantage. Keep up the great work! You are a role model for other students.',
 'mentor_to_student', 5, NOW() - INTERVAL '5 days'),

-- Mentor feedback for Rahul
('feed2222-1111-1111-1111-111111111112', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000005',
 'app22222-1111-1111-1111-111111111114',
 'Congratulations on your Microsoft offer! Your transition from backend to ML role shows your versatility and learning ability. Your strong engineering fundamentals were crucial. Very proud of your achievement.',
 'mentor_to_student', 5, NOW() - INTERVAL '2 days'),

-- Mentor feedback for Priya
('feed1111-1111-1111-1111-111111111113', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000004',
 'app11111-1111-1111-1111-111111111111',
 'Your Google application is strong. Focus on practicing more system design problems before your interview. Review distributed systems concepts. Your problem-solving skills are good but need more confidence.',
 'mentor_to_student', 4, NOW() - INTERVAL '8 days'),

-- Mentor feedback for Arjun
('feed4444-1111-1111-1111-111111111114', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000007',
 'app44441-1111-1111-1111-111111111117',
 'Your frontend skills and portfolio are impressive. Amazon will be lucky to have you. Make sure to highlight your open-source contributions during the interview. Practice explaining your UX decisions clearly.',
 'mentor_to_student', 5, NOW() - INTERVAL '6 days'),

-- Mentor feedback for Ananya
('feed3333-1111-1111-1111-111111111115', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000006',
 'app33331-1111-1111-1111-111111111115',
 'Your ML projects are solid and your Kaggle performance demonstrates practical skills. For Microsoft interview, be ready to discuss your projects in depth. Focus on explaining your model selection and optimization process.',
 'mentor_to_student', 4, NOW() - INTERVAL '4 days');

-- Grant mentor assignment for students
INSERT INTO public.mentor_student_assignments (id, mentor_id, student_id, assigned_at, is_active) VALUES
('msa11111-1111-1111-1111-111111111111', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000004', NOW() - INTERVAL '80 days', true),
('msa22222-1111-1111-1111-111111111112', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000005', NOW() - INTERVAL '80 days', true),
('msa33333-1111-1111-1111-111111111113', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000006', NOW() - INTERVAL '80 days', true),
('msa44444-1111-1111-1111-111111111114', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000007', NOW() - INTERVAL '80 days', true),
('msa55555-1111-1111-1111-111111111115', 'c0000000-0000-0000-0000-000000000003', 'd0000000-0000-0000-0000-000000000008', NOW() - INTERVAL '80 days', true);

-- Add offer letters for selected candidates
INSERT INTO public.offer_letters (id, application_id, student_id, company_id, position_title, offered_salary, benefits, joining_date, offer_status, offered_at, created_at) VALUES
-- Rahul - Microsoft
('offer2222-1111-1111-1111-111111111111', 'app22222-1111-1111-1111-111111111114', 'd0000000-0000-0000-0000-000000000005',
 '33333333-3333-3333-3333-333333333333', 'Machine Learning Engineer',
 1400000, 'Health Insurance, Stock Options, Performance Bonus, Learning Budget, Flexible Work Hours',
 '2024-07-01', 'accepted', NOW() - INTERVAL '1 day', NOW() - INTERVAL '1 day'),

-- Sneha - Google
('offer5555-1111-1111-1111-111111111112', 'app55551-1111-1111-1111-111111111119', 'd0000000-0000-0000-0000-000000000008',
 '11111111-1111-1111-1111-111111111111', 'Software Development Engineer - Backend',
 1200000, 'Comprehensive Health Coverage, Stock Grants (RSU), Annual Performance Bonus, Free Meals, Transportation, Gym Membership',
 '2024-07-15', 'accepted', NOW() - INTERVAL '3 days', NOW() - INTERVAL '3 days');

-- Note: The application_status enum must include the following values:
-- 'pending', 'under_review', 'shortlisted', 'selected', 'rejected', 
-- 'mentor_pending', 'mentor_approved', 'mentor_rejected', 'interview_scheduled'
-- If they don't exist, they need to be added via ALTER TYPE

COMMENT ON TABLE public.companies IS 'Realistic demo data: Google, Amazon, Microsoft added by admin';
COMMENT ON TABLE public.opportunities IS 'Realistic demo data: 3 job postings by Google recruiter';
COMMENT ON TABLE public.applications IS 'Realistic demo data: 11 applications from 5 students showing complete workflow';
